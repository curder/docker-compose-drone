import{_ as s,c as n,o as a,a as p}from"./app.455015e5.js";const F='{"title":"\u914D\u7F6E Drone","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u914D\u7F6Enginx\u4EE3\u7406","slug":"\u914D\u7F6Enginx\u4EE3\u7406"}],"relativePath":"config/drone.md"}',o={name:"config/drone.md"},l=p(`<h1 id="\u914D\u7F6E-drone" tabindex="-1">\u914D\u7F6E Drone <a class="header-anchor" href="#\u914D\u7F6E-drone" aria-hidden="true">#</a></h1><h2 id="\u914D\u7F6Enginx\u4EE3\u7406" tabindex="-1">\u914D\u7F6Enginx\u4EE3\u7406 <a class="header-anchor" href="#\u914D\u7F6Enginx\u4EE3\u7406" aria-hidden="true">#</a></h2><div class="language-nginx"><span class="copy"></span><pre><code><span class="line"><span style="color:#C792EA;">upstream</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">drone </span><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">server</span><span style="color:#A6ACCD;"> 127.0.0.1:10080; </span><span style="color:#676E95;font-style:italic;"># \u8FD9\u91CC\u7684\u7AEF\u53E3\u9700\u8981\u8DDFdrone-server\u5BB9\u5668\u4E2D\u7684\u7AEF\u53E3\u6620\u5C04\u4FDD\u6301\u4E00\u81F4</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#C792EA;">server</span><span style="color:#A6ACCD;"> {</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;"> listen </span><span style="color:#A6ACCD;">80</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;"> server_name </span><span style="color:#A6ACCD;">ci.example.com</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">location</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">/ </span><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;"> proxy_set_header </span><span style="color:#A6ACCD;">X-Forwarded-For </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">remote_addr</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;"> proxy_set_header </span><span style="color:#A6ACCD;">X-Forwarded-Proto </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">scheme</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;"> proxy_set_header </span><span style="color:#A6ACCD;">Host drone.example.com</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;"> proxy_pass </span><span style="color:#A6ACCD;">http://drone</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;"> proxy_redirect </span><span style="color:#A6ACCD;">off</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;"> proxy_http_version </span><span style="color:#A6ACCD;">1.1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;"> proxy_buffering </span><span style="color:#A6ACCD;">off</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;"> chunked_transfer_encoding </span><span style="color:#A6ACCD;">off</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span></code></pre></div>`,3),e=[l];function r(c,t,D,C,A,y){return a(),n("div",null,e)}var d=s(o,[["render",r]]);export{F as __pageData,d as default};
