import{_ as s,c as a,o as e,a as n}from"./app.c84ea946.js";const u=JSON.parse('{"title":"\u5B89\u88C5 Docker","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u7CFB\u7EDF\u8981\u6C42","slug":"\u7CFB\u7EDF\u8981\u6C42"},{"level":2,"title":"\u5378\u8F7D\u65E7\u7248\u672C","slug":"\u5378\u8F7D\u65E7\u7248\u672C"},{"level":2,"title":"\u5B89\u88C5Docker","slug":"\u5B89\u88C5docker"},{"level":2,"title":"\u542F\u52A8Docker","slug":"\u542F\u52A8docker"},{"level":2,"title":"\u914D\u7F6EDocker","slug":"\u914D\u7F6Edocker"},{"level":3,"title":"\u5EFA\u7ACB docker \u7528\u6237\u7EC4","slug":"\u5EFA\u7ACB-docker-\u7528\u6237\u7EC4"},{"level":2,"title":"\u6DFB\u52A0\u5185\u6838\u53C2\u6570","slug":"\u6DFB\u52A0\u5185\u6838\u53C2\u6570"}],"relativePath":"install/docker.md","lastUpdated":1655187460000}'),l={name:"install/docker.md"},c=n(`<h1 id="\u5B89\u88C5-docker" tabindex="-1"><a href="https://docs.docker.com/install/linux/docker-ce/centos/" target="_blank" rel="noopener noreferrer">\u5B89\u88C5 Docker</a> <a class="header-anchor" href="#\u5B89\u88C5-docker" aria-hidden="true">#</a></h1><h2 id="\u7CFB\u7EDF\u8981\u6C42" tabindex="-1">\u7CFB\u7EDF\u8981\u6C42 <a class="header-anchor" href="#\u7CFB\u7EDF\u8981\u6C42" aria-hidden="true">#</a></h2><p>Docker \u652F\u6301 64 \u4F4D\u7248\u672C CentOS 7/8\uFF0C\u5E76\u4E14\u8981\u6C42\u5185\u6838\u7248\u672C\u4E0D\u4F4E\u4E8E 3.10\u3002 CentOS 7 \u6EE1\u8DB3\u6700\u4F4E\u5185\u6838\u7684\u8981\u6C42\uFF0C\u4F46\u7531\u4E8E\u5185\u6838\u7248\u672C\u6BD4\u8F83\u4F4E\uFF0C\u90E8\u5206\u529F\u80FD\uFF08\u5982 overlay2 \u5B58\u50A8\u5C42\u9A71\u52A8\uFF09\u65E0\u6CD5\u4F7F\u7528\uFF0C\u5E76\u4E14\u90E8\u5206\u529F\u80FD\u53EF\u80FD\u4E0D\u592A\u7A33\u5B9A\u3002<a href="https://docs.docker.com/engine/install/centos/#os-requirements" target="_blank" rel="noopener noreferrer">\u5177\u4F53\u67E5\u770B\u8FD9\u91CC</a></p><h2 id="\u5378\u8F7D\u65E7\u7248\u672C" tabindex="-1">\u5378\u8F7D\u65E7\u7248\u672C <a class="header-anchor" href="#\u5378\u8F7D\u65E7\u7248\u672C" aria-hidden="true">#</a></h2><p>\u65E7\u7248\u672C\u7684 Docker \u79F0\u4E3A docker \u6216\u8005 docker-engine\uFF0C\u4F7F\u7528\u4EE5\u4E0B\u547D\u4EE4\u5378\u8F7D\u65E7\u7248\u672C\uFF1A</p><div class="language-bash"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">sudo yum remove docker \\</span></span>
<span class="line"><span style="color:#A6ACCD;">                docker-client \\</span></span>
<span class="line"><span style="color:#A6ACCD;">                docker-client-latest \\</span></span>
<span class="line"><span style="color:#A6ACCD;">                docker-common \\</span></span>
<span class="line"><span style="color:#A6ACCD;">                docker-latest \\</span></span>
<span class="line"><span style="color:#A6ACCD;">                docker-latest-logrotate \\</span></span>
<span class="line"><span style="color:#A6ACCD;">                docker-logrotate \\</span></span>
<span class="line"><span style="color:#A6ACCD;">                docker-selinux \\</span></span>
<span class="line"><span style="color:#A6ACCD;">                docker-engine-selinux \\</span></span>
<span class="line"><span style="color:#A6ACCD;">                docker-engine</span></span>
<span class="line"></span></code></pre></div><p>\u9274\u4E8E\u56FD\u5185\u7F51\u7EDC\u95EE\u9898\uFF0C\u5F3A\u70C8\u5EFA\u8BAE\u4F7F\u7528\u56FD\u5185\u6E90\uFF0C\u5B98\u65B9\u6E90\u8BF7\u5728\u6CE8\u91CA\u4E2D\u67E5\u770B\uFF0C\u5982\u679C\u670D\u52A1\u5668\u5728\u6D77\u5916\u53EF\u4EE5\u4F7F\u7528\u5B98\u65B9\u6E90\u3002</p><p>\u6267\u884C\u4E0B\u9762\u7684\u547D\u4EE4\u6DFB\u52A0 yum \u8F6F\u4EF6\u6E90\uFF1A</p><div class="language-bash"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">sudo yum install -y yum-utils</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># \u5B98\u65B9\u6E90</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo yum-config-manager \\</span></span>
<span class="line"><span style="color:#A6ACCD;">     --add-repo \\</span></span>
<span class="line"><span style="color:#A6ACCD;">     https://download.docker.com/linux/centos/docker-ce.repo</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">## \u963F\u91CC\u4E91\u6E90</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#sudo yum-config-manager \\</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#    --add-repo \\</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#    https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#sudo sed -i &#39;s/download.docker.com/mirrors.aliyun.com\\/docker-ce/g&#39; /etc/yum.repos.d/docker-ce.repo</span></span>
<span class="line"></span></code></pre></div><h2 id="\u5B89\u88C5docker" tabindex="-1">\u5B89\u88C5Docker <a class="header-anchor" href="#\u5B89\u88C5docker" aria-hidden="true">#</a></h2><p>\u66F4\u65B0 yum \u8F6F\u4EF6\u6E90\u7F13\u5B58\uFF0C\u5E76\u5B89\u88C5 docker-ce\u3002</p><div class="language-bash"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">sudo yum install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin</span></span>
<span class="line"></span></code></pre></div><h2 id="\u542F\u52A8docker" tabindex="-1">\u542F\u52A8Docker <a class="header-anchor" href="#\u542F\u52A8docker" aria-hidden="true">#</a></h2><div class="language-bash"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">sudo systemctl </span><span style="color:#82AAFF;">enable</span><span style="color:#A6ACCD;"> docker</span></span>
<span class="line"><span style="color:#A6ACCD;">sudo systemctl start docker</span></span>
<span class="line"></span></code></pre></div><h2 id="\u914D\u7F6Edocker" tabindex="-1">\u914D\u7F6EDocker <a class="header-anchor" href="#\u914D\u7F6Edocker" aria-hidden="true">#</a></h2><h3 id="\u5EFA\u7ACB-docker-\u7528\u6237\u7EC4" tabindex="-1">\u5EFA\u7ACB docker \u7528\u6237\u7EC4 <a class="header-anchor" href="#\u5EFA\u7ACB-docker-\u7528\u6237\u7EC4" aria-hidden="true">#</a></h3><p>\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0Cdocker \u547D\u4EE4\u4F1A\u4F7F\u7528 Unix socket \u4E0E Docker \u5F15\u64CE\u901A\u8BAF\u3002\u800C\u53EA\u6709 root \u7528\u6237\u548C docker \u7EC4\u7684\u7528\u6237\u624D\u53EF\u4EE5\u8BBF\u95EE Docker \u5F15\u64CE\u7684 Unix socket\u3002\u51FA\u4E8E\u5B89\u5168\u8003\u8651\uFF0C\u4E00\u822C Linux \u7CFB\u7EDF\u4E0A\u4E0D\u4F1A\u76F4\u63A5\u4F7F\u7528 root \u7528\u6237\u3002\u56E0\u6B64\uFF0C\u66F4\u597D\u5730\u505A\u6CD5\u662F\u5C06\u9700\u8981\u4F7F\u7528 docker \u7684\u7528\u6237\u52A0\u5165 docker \u7528\u6237\u7EC4\u3002</p><p>\u5EFA\u7ACB docker \u7EC4\uFF1A</p><div class="language-bash"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">sudo groupadd docker</span></span>
<span class="line"></span></code></pre></div><p>\u5C06\u5F53\u524D\u7528\u6237\u52A0\u5165 docker \u7EC4\uFF1A</p><div class="language-bash"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">sudo usermod -aG docker </span><span style="color:#89DDFF;">$</span><span style="color:#A6ACCD;">USER</span></span>
<span class="line"></span></code></pre></div><blockquote><p>\u53EF\u4EE5\u628A <code>$USER</code> \u53D8\u91CF\u66FF\u6362\u4E3A\u5BF9\u5E94\u7684\u7528\u6237\u540D</p></blockquote><h2 id="\u6DFB\u52A0\u5185\u6838\u53C2\u6570" tabindex="-1">\u6DFB\u52A0\u5185\u6838\u53C2\u6570 <a class="header-anchor" href="#\u6DFB\u52A0\u5185\u6838\u53C2\u6570" aria-hidden="true">#</a></h2><p>\u5982\u679C\u5728 CentOS \u4F7F\u7528 Docker \u770B\u5230\u4E0B\u9762\u7684\u8FD9\u4E9B\u8B66\u544A\u4FE1\u606F\uFF1A</p><div class="language-text"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">WARNING: bridge-nf-call-iptables is disabled</span></span>
<span class="line"><span style="color:#A6ACCD;">WARNING: bridge-nf-call-ip6tables is disabled</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>\u8BF7\u6DFB\u52A0\u5185\u6838\u914D\u7F6E\u53C2\u6570\u4EE5\u542F\u7528\u8FD9\u4E9B\u529F\u80FD\uFF1A</p><div class="language-bash"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">sudo tee -a /etc/sysctl.conf </span><span style="color:#89DDFF;">&lt;&lt;</span><span style="color:#C3E88D;">-</span><span style="color:#89DDFF;font-style:italic;">EOF</span></span>
<span class="line"><span style="color:#C3E88D;">net.bridge.bridge-nf-call-ip6tables = 1</span></span>
<span class="line"><span style="color:#C3E88D;">net.bridge.bridge-nf-call-iptables = 1</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">EOF</span></span>
<span class="line"></span></code></pre></div><p>\u7136\u540E\u91CD\u65B0\u52A0\u8F7D sysctl.conf \u5373\u53EF</p><div class="language-bash"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">sudo sysctl -p</span></span>
<span class="line"></span></code></pre></div>`,29),o=[c];function p(r,t,d,i,y,k){return e(),a("div",null,o)}var C=s(l,[["render",p]]);export{u as __pageData,C as default};
