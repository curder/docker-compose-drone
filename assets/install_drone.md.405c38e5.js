import{_ as e,c as r,o as n,a as o}from"./app.8fcd191b.js";const g=JSON.parse('{"title":"\u5B89\u88C5 Drone","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u914D\u7F6E","slug":"\u914D\u7F6E"},{"level":3,"title":"MySQL","slug":"mysql"},{"level":3,"title":"Drone Server","slug":"drone-server"},{"level":3,"title":"Drone Runner","slug":"drone-runner"},{"level":2,"title":"\u542F\u52A8","slug":"\u542F\u52A8"},{"level":2,"title":"reference","slug":"reference"}],"relativePath":"install/drone.md","lastUpdated":1656062392000}'),a={name:"install/drone.md"},d=o(`<h1 id="\u5B89\u88C5-drone" tabindex="-1">\u5B89\u88C5 Drone <a class="header-anchor" href="#\u5B89\u88C5-drone" aria-hidden="true">#</a></h1><p>\u5B89\u88C5 drone \u4F7F\u7528\u8FD9\u91CC\u4F7F\u7528<a href="https://github.com/curder/docker-compose-drone" target="_blank" rel="noopener noreferrer">curder/docker-compose-drone</a></p><p>\u5177\u4F53\u5B89\u88C5\u53EF\u7B80\u5355\u914D\u7F6E\u53EF\u4EE5\u901A\u8FC7\u4ED3\u5E93 README \u83B7\u53D6\u3002</p><h2 id="\u914D\u7F6E" tabindex="-1">\u914D\u7F6E <a class="header-anchor" href="#\u914D\u7F6E" aria-hidden="true">#</a></h2><div class="language-bash"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">cp .env.example .env</span></span>
<span class="line"></span></code></pre></div><p>\u4ECE <code>docker-compose.yml</code> \u6587\u4EF6\u6765\u770B\uFF0Cdrone \u670D\u52A1\u5BF9\u5916\u66B4\u9732\u7684\u7AEF\u53E3\u5206\u522B\u662F <code>10080</code>\uFF0C\u53EF\u4EE5\u6839\u636E\u5B9E\u9645\u60C5\u51B5\u5728<code>.env</code>\u6587\u4EF6\u4E2D\u4FEE\u6539\u3002</p><h3 id="mysql" tabindex="-1">MySQL <a class="header-anchor" href="#mysql" aria-hidden="true">#</a></h3><ul><li><code>FORWARD_DB_PORT</code> \u66B4\u9732\u5728\u5BBF\u4E3B\u673A\u4E0A\u7684\u7AEF\u53E3</li><li><code>DB_DATABASE</code> \u6570\u636E\u5E93\u540D\u79F0</li><li><code>DB_USERNAME</code> \u6570\u636E\u5E93\u8FDE\u63A5\u7528\u6237\u540D</li><li><code>DB_PASSWORD</code> \u6570\u636E\u5E93\u5BC6\u7801\u3002<strong>\u5EFA\u8BAE\u521D\u59CB\u5316\u65F6\u4FEE\u6539</strong></li></ul><h3 id="drone-server" tabindex="-1">Drone Server <a class="header-anchor" href="#drone-server" aria-hidden="true">#</a></h3><ul><li><code>APP_PROTO</code> CI\u5DE5\u5177\u534F\u8BAE\uFF0C\u4E00\u822C\u4F7F\u7528<code>http</code>\uFF0C\u901A\u8FC7OpenResty\u6216\u8005Nginx\u5728\u524D\u7AEF\u4EE3\u7406\u3002</li><li><code>APP_PORT</code> \u5BBF\u4E3B\u673A\u4E0A\u7AEF\u53E3\uFF0C\u5EFA\u8BAE\u4E0D\u8981\u8DDF\u5DF2\u6709\u7684\u7AEF\u53E3\u91CD\u590D\u3002<strong>\u6CE8\u610F\uFF1A\u7AEF\u53E3\u9700\u8981\u5BF9\u5916\u5141\u8BB8\u8BBF\u95EE</strong></li><li><code>APP_HOST</code> \u4E00\u822C\u662FIP+\u7AEF\u53E3\u3002<strong>\u5EFA\u8BAE\u521D\u59CB\u5316\u65F6\u4FEE\u6539</strong></li><li><code>RPC_SECRET</code> \u548CRunner\u901A\u8BAF\u65F6\u52A0\u5BC6\u5B57\u7B26\u4E32\uFF0C\u9700\u8981\u8DDFRunner\u4E2D\u7684\u914D\u7F6E\u4FDD\u6301\u4E00\u81F4\u3002<strong>\u5EFA\u8BAE\u521D\u59CB\u5316\u65F6\u4FEE\u6539</strong></li><li><code>GOGS_SERVER</code> \u914D\u7F6EGogs\u6240\u5728\u670D\u52A1\u57DF\u540D\u3002<strong>\u5EFA\u8BAE\u521D\u59CB\u5316\u65F6\u4FEE\u6539</strong></li></ul><h3 id="drone-runner" tabindex="-1">Drone Runner <a class="header-anchor" href="#drone-runner" aria-hidden="true">#</a></h3><ul><li><code>RUNNER_CAPACITY</code> \u914D\u7F6E\u540C\u65F6\u5141\u8BB8Runner\u7684\u6570\u91CF</li><li><code>RUNNER_DEBUG</code> \u662F\u5426\u5F00\u542F\u65E5\u5FD7</li></ul><h2 id="\u542F\u52A8" tabindex="-1">\u542F\u52A8 <a class="header-anchor" href="#\u542F\u52A8" aria-hidden="true">#</a></h2><p>\u542F\u52A8\u4E4B\u524D\u53EF\u4EE5\u901A\u8FC7 <code>docker-compose pull</code> \u5148\u62C9\u53D6\u4E00\u4E0B\u5BF9\u5E94\u7684\u955C\u50CF\u3002</p><div class="language-bash"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">docker-compose up -d</span></span>
<span class="line"></span></code></pre></div><h2 id="reference" tabindex="-1">reference <a class="header-anchor" href="#reference" aria-hidden="true">#</a></h2><ul><li>\u6E90\u4EE3\u7801 <a href="https://github.com/drone/drone" target="_blank" rel="noopener noreferrer">https://github.com/drone/drone</a></li><li>\u5B98\u65B9\u6587\u6863 <a href="http://docs.drone.io/installation/" target="_blank" rel="noopener noreferrer">http://docs.drone.io/installation/</a></li></ul>`,17),l=[d];function s(c,t,i,h,p,u){return n(),r("div",null,l)}var f=e(a,[["render",s]]);export{g as __pageData,f as default};
